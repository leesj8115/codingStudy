# 코드 비교 스터디

## 목표
PC 기준 네이버 웹툰 페이지와, 웹툰을 클릭했을 때의 화면을 표현하기 위해 본인이 API를 구성한다면, 어떻게 설계하는 게 좋을까 서로 고민하고 작성한 코드를 리뷰하는 스터디

## 1주차 결과

### 전원표님의 의견, 배울점
- api 적인 처리를 위해선, 값에 대한 점검 (null check)와 exception을 적절하게 반환해야한다.
- 작업 결과를 보여드리기위해, 테스트를 집중적으로 다루었다.
- 테스트할 때 `Mock` 라이브러리를 이용하면, 간편하게 테스트를 할 수 있다.
- 면접 스터디 때 배운 **리플렉션**을 이용하여, null check를 Object 로 받아서 하나의 함수에서 다양한 타입에 대해 점검할 수 있도록 했다.
- `MapStruct` 라이브러리를 활용하여, dto <-> entity 간의 전환을 훨씬 편리하게 할 수 있다.
- 송영섭님의 Impl 관련하여 => 과거 스프링 코어에서는 인터페이스가 꼭 필요했으나, 지금은 굳이 필요하지 않다. 바로 클래스를 활용하여 개발해도 무방하다고 판단한다. '소프트웨어 야근의 원칙'을 참고하면 좋겠다.
- 요즘엔 키를 구성할 때 비식별관계가 대세.. 별도의 키를 가져가는 것이 전략이라고 해서 고민중이다.

### 송영섭님의 의견, 배울점
- `@Converter`를 통해서, 날짜(업로드 요일)에 대해 DB 저장에는 String, 스프링 활용에는 List로 활용하도록 했습니다.
- 서비스 단에서 exception을 반환하도록 했고, 별도의 exceptionHandler를 만들어 처리하도록 했다.
- `@JsonProperty("test_column") private String testColumn` <== 처럼 스타일을 변환하여 처리할 수 있다. => 나에 대한 의견
- `@EntityListener`를 통해 `@CreatedDate`와 `@LastModifiedDate`를 활용할 수 있다.
ex) `@EntityListeners(AuditingEntityListener.class)` 어노테이션이 붙은 Entity Class에 대해
 CreatedDate, LastModifiedDate 등에 대한 시간을 자동으로 지정할 수 있다.
- Enum을 활용하여 값을 제한할 수 있다.
- `@JsonFormat`을 이용하여 데이터 형 변환을 편리하게 할 수 있다.
- validation 패키지를 사용하여 `@Size`를 이용해 값의 처리를 할 수있다.
ex) `@Size(min = 2, max = 6) priavte String name;`	=> 2글자 이상 6글자 이하의 값만 입력하도록 할 수 있다. 예외시 익셉션 발생
- Service 단을 작성할 때, **Impl**을 굳이 만들어가며 작성할 필요가 있을까요? 의견이 궁금해요

### 나의 의견
- 어떻게 패키지를 나누어 관리하시는지도 궁금했다
- 각 화별 정보를 담은 테이블의 경우, 키를 복합으로 구성하고 싶었으나 어려웠다. 다른 사람들은 어떻게 했을까 궁금했다.
- 웹툰의 평점을 정리하기 위해, 스프링 배치의 카프카 라이브러리를 활용한다고 들었다. 이를 활용해보았음 좋겠다.

### 나의 다음 개선 사항
- 아직 에피소드(각 화별 데이터)에 대해 적용, 활용하지 못했다. 실 활용 마무리 작업 예정
- 익셉션에 대한 처리가 너무 부족했다. 이에 대한 처리도 추가할 필요가 있겠다.
- 다른 사람들이 코드에서 제공해준 것 중 MapStruct, JsonFormat 등 활용해보고 싶은 어노테이션과 라이브러리가 있다. 이를 활용해보고자 한다.
- REST API라고 생각하고 적용해보면서, JSON 타입으로 적용하기 위해 고민했다.
- ResponseEntity를 활용하여 모두 결과를 반환했다.

### 1주차 느낌
다른 사람들의 코드에 비해, 나의 코드가 너무 전문성이 떨어진다고 느꼈다. 부족함을 많이 느낀만큼 더 노력해야겠다. 이러한 사람들과 함께 부스트캠프를 했고, 또 배울 수 있어서 다행이라는 생각이 든다. 부족한 부분을 더 채워나가면서 해야겠다.
